{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="container mt-5">
    <h2 class="mb-4">Complete Payment</h2>

    <p><strong>Order Number:</strong> {{ order.order_number }}</p>
    <p><strong>Total Amount:</strong> ${{ order.amount }}</p>

    <form id="payment-form">
        <div id="card-element" class="form-control p-3"></div>
        <div id="card-errors" class="text-danger mt-2"></div>
        <button id="submit-button" class="btn btn-success mt-3">Pay Now</button>
    </form>

    <!-- Hidden fields for Stripe keys -->
    <span id="id_stripe_public_key" hidden>{{ stripe_public_key }}</span>
    <span id="id_client_secret" hidden>{{ client_secret }}</span>

    <!-- Stripe & Custom JS -->
    <script src="https://js.stripe.com/v3/"></script>
    <script src="{% static 'checkout/js/stripe_elements.js' %}"></script>
</div>
{% endblock %}
